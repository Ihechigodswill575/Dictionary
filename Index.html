<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobile Phone Code Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --success: #48bb78;
            --danger: #f56565;
            --warning: #ed8936;
            --info: #4299e1;
            --dark: #1a202c;
            --dark-light: #2d3748;
            --gray: #4a5568;
            --light: #f7fafc;
            --border: #e2e8f0;
        }

        html {
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
        }

        /* Responsive font sizing */
        @media (max-width: 480px) {
            html { font-size: 14px; }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            html { font-size: 15px; }
        }

        @media (min-width: 769px) {
            html { font-size: 16px; }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            min-height: -webkit-fill-available;
            overflow-x: hidden;
            position: relative;
        }

        /* Auth Screen - Fully Responsive */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            padding: clamp(10px, 3vw, 20px);
            width: 100%;
        }

        .auth-box {
            background: white;
            border-radius: clamp(15px, 4vw, 20px);
            padding: clamp(20px, 5vw, 40px);
            width: 100%;
            max-width: min(450px, 95vw);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.5s ease;
            margin: auto;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .auth-header {
            text-align: center;
            margin-bottom: clamp(20px, 4vw, 30px);
        }

        .auth-header h1 {
            font-size: clamp(20px, 5vw, 28px);
            color: var(--dark);
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            line-height: 1.2;
            word-break: break-word;
        }

        .auth-header .powered-by {
            color: var(--gray);
            font-size: clamp(11px, 2.5vw, 14px);
            font-weight: 600;
            margin-top: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            flex-wrap: wrap;
        }

        .auth-header .powered-by span {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .auth-tabs {
            display: flex;
            gap: clamp(5px, 2vw, 10px);
            margin-bottom: clamp(20px, 4vw, 30px);
            background: var(--light);
            padding: clamp(3px, 1vw, 5px);
            border-radius: clamp(8px, 2vw, 12px);
        }

        .auth-tab {
            flex: 1;
            padding: clamp(10px, 2.5vw, 12px);
            border: none;
            background: transparent;
            border-radius: clamp(6px, 1.5vw, 8px);
            font-size: clamp(12px, 2.5vw, 14px);
            font-weight: 600;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .auth-tab.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-group {
            margin-bottom: clamp(15px, 3vw, 20px);
        }

        .form-group label {
            display: block;
            margin-bottom: clamp(6px, 1.5vw, 8px);
            color: var(--dark);
            font-size: clamp(12px, 2.5vw, 14px);
            font-weight: 600;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: clamp(10px, 2.5vw, 12px) clamp(12px, 3vw, 16px);
            border: 2px solid var(--border);
            border-radius: clamp(8px, 2vw, 10px);
            font-size: clamp(13px, 2.5vw, 14px);
            transition: all 0.3s ease;
            outline: none;
            background: white;
            -webkit-appearance: none;
            appearance: none;
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: clamp(12px, 3vw, 14px);
            border: none;
            border-radius: clamp(8px, 2vw, 10px);
            font-size: clamp(13px, 2.5vw, 15px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            touch-action: manipulation;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: clamp(20px, 4vw, 25px) 0;
            color: var(--gray);
            font-size: clamp(11px, 2.5vw, 13px);
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        .divider span {
            padding: 0 clamp(10px, 3vw, 15px);
            white-space: nowrap;
        }

        .social-buttons {
            display: flex;
            flex-direction: column;
            gap: clamp(10px, 2.5vw, 12px);
        }

        .btn-social {
            width: 100%;
            padding: clamp(10px, 2.5vw, 12px);
            border: 2px solid var(--border);
            border-radius: clamp(8px, 2vw, 10px);
            background: white;
            font-size: clamp(12px, 2.5vw, 14px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: clamp(8px, 2vw, 10px);
            touch-action: manipulation;
        }

        .btn-social:active {
            transform: scale(0.98);
            background: var(--light);
        }

        .btn-social svg {
            width: clamp(18px, 4vw, 20px);
            height: clamp(18px, 4vw, 20px);
            flex-shrink: 0;
        }

        .phone-input-group {
            display: flex;
            gap: clamp(8px, 2vw, 10px);
        }

        .phone-input-group select {
            width: clamp(80px, 20vw, 100px);
            flex-shrink: 0;
        }

        .phone-input-group input {
            flex: 1;
            min-width: 0;
        }

        .error-message,
        .success-message {
            font-size: clamp(11px, 2.5vw, 13px);
            margin-top: clamp(6px, 1.5vw, 8px);
            display: none;
        }

        .error-message {
            color: var(--danger);
        }

        .success-message {
            color: var(--success);
        }

        .error-message.show,
        .success-message.show {
            display: block;
        }

        /* Main App - Fully Responsive */
        .main-app {
            display: none;
            height: 100vh;
            height: -webkit-fill-available;
            flex-direction: column;
            background: var(--dark);
            overflow: hidden;
        }

        .main-app.active {
            display: flex;
        }

        /* Top Bar - Mobile Optimized */
        .top-bar {
            background: var(--dark-light);
            padding: clamp(10px, 2.5vw, 15px) clamp(15px, 3vw, 20px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
            gap: 10px;
            min-height: clamp(50px, 12vw, 60px);
        }

        .top-bar-left {
            display: flex;
            align-items: center;
            gap: clamp(10px, 2.5vw, 15px);
            flex: 1;
            min-width: 0;
        }

        .app-logo {
            font-size: clamp(16px, 4vw, 20px);
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            white-space: nowrap;
        }

        .powered-badge {
            font-size: clamp(9px, 2vw, 10px);
            color: rgba(255,255,255,0.6);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: clamp(8px, 2vw, 10px);
        }

        .icon-btn {
            width: clamp(32px, 8vw, 36px);
            height: clamp(32px, 8vw, 36px);
            border: none;
            background: rgba(255,255,255,0.1);
            border-radius: clamp(6px, 1.5vw, 8px);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .icon-btn:active {
            background: rgba(255,255,255,0.2);
            transform: scale(0.95);
        }

        .icon-btn svg {
            width: clamp(16px, 4vw, 18px);
            height: clamp(16px, 4vw, 18px);
        }

        /* Mobile Layout */
        .app-content {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        /* Sidebar - Collapsible on Mobile */
        .sidebar {
            width: 100%;
            max-width: 280px;
            background: var(--dark-light);
            border-right: 1px solid rgba(255,255,255,0.1);
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            transition: transform 0.3s ease;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: 0;
                top: 0;
                height: 100%;
                z-index: 100;
                transform: translateX(-100%);
                box-shadow: 2px 0 10px rgba(0,0,0,0.3);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-overlay {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 99;
            }

            .sidebar-overlay.show {
                display: block;
            }
        }

        .sidebar-section {
            padding: clamp(15px, 3vw, 20px);
        }

        .sidebar-title {
            color: rgba(255,255,255,0.5);
            font-size: clamp(10px, 2.5vw, 11px);
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: clamp(10px, 2.5vw, 12px);
        }

        .prompt-input {
            width: 100%;
            padding: clamp(10px, 2.5vw, 12px);
            background: var(--dark);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: clamp(6px, 1.5vw, 8px);
            color: white;
            font-size: clamp(13px, 2.5vw, 14px);
            resize: vertical;
            min-height: clamp(80px, 20vw, 100px);
            outline: none;
        }

        .prompt-input:focus {
            border-color: var(--primary);
        }

        .tech-stack-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(clamp(60px, 15vw, 80px), 1fr));
            gap: clamp(8px, 2vw, 10px);
            margin-top: clamp(10px, 2.5vw, 12px);
        }

        .tech-btn {
            padding: clamp(8px, 2vw, 10px);
            background: var(--dark);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: clamp(6px, 1.5vw, 8px);
            color: rgba(255,255,255,0.7);
            font-size: clamp(11px, 2.5vw, 12px);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
        }

        .tech-btn:active,
        .tech-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            transform: scale(0.95);
        }

        .generate-btn {
            width: 100%;
            margin-top: clamp(15px, 3vw, 20px);
            padding: clamp(12px, 3vw, 14px);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: clamp(8px, 2vw, 10px);
            color: white;
            font-size: clamp(13px, 2.5vw, 14px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .generate-btn:active {
            transform: scale(0.98);
        }

        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(clamp(120px, 25vw, 140px), 1fr));
            gap: clamp(10px, 2.5vw, 12px);
            margin-top: clamp(10px, 2.5vw, 12px);
        }

        .template-card {
            background: var(--dark);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: clamp(8px, 2vw, 10px);
            padding: clamp(12px, 3vw, 15px);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .template-card:active {
            transform: scale(0.95);
            background: rgba(102, 126, 234, 0.1);
        }

        .template-icon {
            font-size: clamp(24px, 6vw, 32px);
            margin-bottom: clamp(6px, 1.5vw, 8px);
        }

        .template-name {
            color: white;
            font-size: clamp(11px, 2.5vw, 12px);
            font-weight: 600;
        }

        /* Main Editor Area */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            min-width: 0;
        }

        .editor-tabs {
            display: flex;
            background: var(--dark-light);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            overflow-x: auto;
            overflow-y: hidden;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .editor-tabs::-webkit-scrollbar {
            display: none;
        }

        .editor-tab {
            padding: clamp(10px, 2.5vw, 12px) clamp(15px, 3vw, 20px);
            color: rgba(255,255,255,0.6);
            font-size: clamp(12px, 2.5vw, 13px);
            border: none;
            background: transparent;
            cursor: pointer;
            white-space: nowrap;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .editor-tab.active {
            color: white;
            border-bottom-color: var(--primary);
            background: rgba(102, 126, 234, 0.1);
        }

        .editor-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .code-editor {
            flex: 1;
            background: var(--dark);
            color: white;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: clamp(11px, 2.5vw, 13px);
            padding: clamp(15px, 3vw, 20px);
            overflow: auto;
            -webkit-overflow-scrolling: touch;
            line-height: 1.6;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .preview-pane {
            flex: 1;
            background: white;
            border-left: 1px solid rgba(255,255,255,0.1);
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }

        .preview-frame {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Bottom Action Bar - Mobile Optimized */
        .bottom-bar {
            background: var(--dark-light);
            padding: clamp(10px, 2.5vw, 12px);
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            gap: clamp(8px, 2vw, 10px);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .bottom-btn {
            padding: clamp(8px, 2vw, 10px) clamp(15px, 3vw, 20px);
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: clamp(6px, 1.5vw, 8px);
            color: white;
            font-size: clamp(12px, 2.5vw, 13px);
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .bottom-btn:active {
            background: rgba(255,255,255,0.2);
            transform: scale(0.95);
        }

        /* Modal - Fully Responsive */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: clamp(15px, 3vw, 20px);
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--dark-light);
            border-radius: clamp(15px, 3vw, 20px);
            padding: clamp(20px, 4vw, 30px);
            width: 100%;
            max-width: min(500px, 95vw);
            max-height: 90vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: clamp(15px, 3vw, 20px);
        }

        .modal-title {
            color: white;
            font-size: clamp(16px, 4vw, 18px);
            font-weight: 700;
        }

        .modal-close {
            width: clamp(28px, 7vw, 32px);
            height: clamp(28px, 7vw, 32px);
            border: none;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .modal-body {
            color: rgba(255,255,255,0.8);
            font-size: clamp(13px, 2.5vw, 14px);
            line-height: 1.6;
        }

        /* Loading Spinner */
        .loading {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            width: clamp(40px, 10vw, 50px);
            height: clamp(40px, 10vw, 50px);
            border: 4px solid rgba(255,255,255,0.3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: clamp(20px, 5vw, 30px);
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark-light);
            color: white;
            padding: clamp(12px, 3vw, 15px) clamp(20px, 4vw, 25px);
            border-radius: clamp(8px, 2vw, 10px);
            font-size: clamp(13px, 2.5vw, 14px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 3000;
            display: none;
            max-width: 90vw;
            text-align: center;
        }

        .toast.show {
            display: block;
            animation: slideUpToast 0.3s ease;
        }

        @keyframes slideUpToast {
            from {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* Landscape Mode Optimizations */
        @media (max-height: 500px) and (orientation: landscape) {
            .auth-box {
                max-height: 90vh;
                overflow-y: auto;
            }

            .auth-header h1 {
                font-size: 20px;
            }

            .form-group {
                margin-bottom: 12px;
            }
        }

        /* Extra Small Devices */
        @media (max-width: 320px) {
            .top-bar {
                padding: 8px 12px;
            }

            .app-logo {
                font-size: 14px;
            }

            .tech-stack-grid {
                grid-template-columns: repeat(auto-fill, minmax(55px, 1fr));
            }
        }

        /* Large Devices */
        @media (min-width: 1024px) {
            .sidebar {
                transform: translateX(0) !important;
            }

            .sidebar-overlay {
                display: none !important;
            }

            .editor-content {
                flex-direction: row;
            }

            .code-editor,
            .preview-pane {
                width: 50%;
            }
        }

        /* Print Styles */
        @media print {
            .top-bar,
            .sidebar,
            .bottom-bar,
            .modal {
                display: none !important;
            }

            .main-app {
                height: auto;
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            .btn, .icon-btn, .tech-btn {
                border: 2px solid currentColor;
            }
        }
    </style>
</head>
<body>

    <!-- Authentication Screen -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <div class="auth-header">
                <h1>Mobile Phone Code Generator</h1>
                <div class="powered-by">
                    Powered by <span>DevGodswillüï∏‚úçÔ∏è</span>
                </div>
            </div>

            <!-- Auth Tabs -->
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
            </div>

            <!-- Login Form -->
            <div class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="btn btn-primary" onclick="loginWithEmail()">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                        <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                    </svg>
                    Login
                </button>
                <div class="error-message" id="loginError"></div>
                <div class="success-message" id="loginSuccess"></div>

                <div class="divider"><span>OR</span></div>

                <div class="social-buttons">
                    <button class="btn-social" onclick="loginWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Continue with Google
                    </button>

                    <button class="btn-social" onclick="showPhoneAuth()">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
                            <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                        </svg>
                        Continue with Phone
                    </button>
                </div>
            </div>

            <!-- Signup Form -->
            <div class="auth-form" id="signupForm">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password">
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" placeholder="Confirm your password">
                </div>
                <button class="btn btn-primary" onclick="signupWithEmail()">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                    </svg>
                    Create Account
                </button>
                <div class="error-message" id="signupError"></div>
                <div class="success-message" id="signupSuccess"></div>

                <div class="divider"><span>OR</span></div>

                <div class="social-buttons">
                    <button class="btn-social" onclick="loginWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign up with Google
                    </button>

                    <button class="btn-social" onclick="showPhoneAuth()">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h6zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
                            <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                        </svg>
                        Sign up with Phone
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Phone Authentication Modal -->
    <div class="modal" id="phoneAuthModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Phone Authentication</h3>
                <button class="modal-close" onclick="closePhoneAuth()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Phone Number</label>
                    <div class="phone-input-group">
                        <select id="countryCode">
                            <option value="+1">üá∫üá∏ +1</option>
                            <option value="+44">üá¨üáß +44</option>
                            <option value="+91">üáÆüá≥ +91</option>
                            <option value="+234">üá≥üá¨ +234</option>
                            <option value="+86">üá®üá≥ +86</option>
                            <option value="+81">üáØüáµ +81</option>
                            <option value="+49">üá©üá™ +49</option>
                            <option value="+33">üá´üá∑ +33</option>
                        </select>
                        <input type="tel" id="phoneNumber" placeholder="Enter phone number">
                    </div>
                </div>
                <button class="btn btn-primary" onclick="sendPhoneVerification()">
                    Send Verification Code
                </button>
                <div class="error-message" id="phoneError"></div>
                <div class="success-message" id="phoneSuccess"></div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="main-app" id="mainApp">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-left">
                <button class="icon-btn" id="menuBtn" onclick="toggleSidebar()">
                    <svg fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                    </svg>
                </button>
                <div>
                    <div class="app-logo">Mobile Code Gen</div>
                    <div class="powered-badge">Powered by DevGodswillüï∏‚úçÔ∏è</div>
                </div>
            </div>
            <div class="top-bar-right">
                <button class="icon-btn" onclick="showSettings()">
                    <svg fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                        <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"/>
                    </svg>
                </button>
                <button class="icon-btn" onclick="logout()">
                    <svg fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="app-content">
            <!-- Sidebar Overlay (Mobile) -->
            <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-section">
                    <h3 class="sidebar-title">‚ú® AI Generator</h3>
                    <textarea 
                        class="prompt-input" 
                        id="aiPrompt" 
                        placeholder="Describe what you want to build...

Example: Create a todo app with dark mode and local storage"
                    ></textarea>
                    <div class="tech-stack-grid">
                        <button class="tech-btn active" data-tech="html">HTML</button>
                        <button class="tech-btn active" data-tech="css">CSS</button>
                        <button class="tech-btn active" data-tech="js">JS</button>
                        <button class="tech-btn" data-tech="react">React</button>
                        <button class="tech-btn" data-tech="vue">Vue</button>
                        <button class="tech-btn" data-tech="tailwind">Tailwind</button>
                    </div>
                    <button class="generate-btn" onclick="generateCode()">
                        üöÄ Generate Code
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">üì± Templates</h3>
                    <div class="templates-grid">
                        <div class="template-card" onclick="loadTemplate('todo')">
                            <div class="template-icon">‚úÖ</div>
                            <div class="template-name">Todo App</div>
                        </div>
                        <div class="template-card" onclick="loadTemplate('calculator')">
                            <div class="template-icon">üî¢</div>
                            <div class="template-name">Calculator</div>
                        </div>
                        <div class="template-card" onclick="loadTemplate('weather')">
                            <div class="template-icon">üå§Ô∏è</div>
                            <div class="template-name">Weather</div>
                        </div>
                        <div class="template-card" onclick="loadTemplate('notes')">
                            <div class="template-icon">üìù</div>
                            <div class="template-name">Notes</div>
                        </div>
                        <div class="template-card" onclick="loadTemplate('timer')">
                            <div class="template-icon">‚è±Ô∏è</div>
                            <div class="template-name">Timer</div>
                        </div>
                        <div class="template-card" onclick="loadTemplate('quiz')">
                            <div class="template-icon">üéØ</div>
                            <div class="template-name">Quiz</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Editor Area -->
            <div class="editor-area">
                <div class="editor-tabs">
                    <button class="editor-tab active" onclick="switchEditorTab('code')">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display: inline; vertical-align: middle; margin-right: 5px;">
                            <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"/>
                        </svg>
                        Code
                    </button>
                    <button class="editor-tab" onclick="switchEditorTab('preview')">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display: inline; vertical-align: middle; margin-right: 5px;">
                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                        Preview
                    </button>
                    <button class="editor-tab" onclick="switchEditorTab('split')">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="display: inline; vertical-align: middle; margin-right: 5px;">
                            <path d="M1.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-13a.5.5 0 0 0-.5-.5h-13zM1 1.5A1.5 1.5 0 0 1 2.5 0h11A1.5 1.5 0 0 1 15 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 14.5v-13zM8 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 4z"/>
                        </svg>
                        Split
                    </button>
                </div>

                <div class="editor-content" id="editorContent">
                    <div class="code-editor" id="codeEditor" contenteditable="true">
// Welcome to Mobile Phone Code Generator!
// Powered by DevGodswillüï∏‚úçÔ∏è

// Your AI-generated code will appear here
// Or start typing to write your own code

console.log("Ready to build amazing apps!");
                    </div>
                    <div class="preview-pane" id="previewPane" style="display: none;">
                        <iframe class="preview-frame" id="previewFrame"></iframe>
                    </div>
                </div>

                <div class="bottom-bar">
                    <button class="bottom-btn" onclick="runCode()">
                        ‚ñ∂Ô∏è Run
                    </button>
                    <button class="bottom-btn" onclick="formatCode()">
                        ‚ú® Format
                    </button>
                    <button class="bottom-btn" onclick="exportCode()">
                        üíæ Export
                    </button>
                    <button class="bottom-btn" onclick="shareCode()">
                        üîó Share
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { 
            getAuth, 
            createUserWithEmailAndPassword, 
            signInWithEmailAndPassword,
            signInWithPopup,
            GoogleAuthProvider,
            signInWithPhoneNumber,
            RecaptchaVerifier,
            signOut,
            onAuthStateChanged
        } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCv4f2ANqT6M6p7y4G6j-kWYZswc-Hnt6s",
            authDomain: "websites-8c741.firebaseapp.com",
            projectId: "websites-8c741",
            storageBucket: "websites-8c741.firebasestorage.app",
            messagingSenderId: "780234788238",
            appId: "1:780234788238:web:3f6f01ef405d0ab6ae68df",
            measurementId: "G-JNZW1M1PLK"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const googleProvider = new GoogleAuthProvider();

        // Make auth available globally
        window.firebaseAuth = auth;
        window.googleProvider = googleProvider;
        window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.signInWithPopup = signInWithPopup;
        window.signInWithPhoneNumber = signInWithPhoneNumber;
        window.RecaptchaVerifier = RecaptchaVerifier;
        window.signOut = signOut;

        // Check auth state
        onAuthStateChanged(auth, (user) => {
            if (user) {
                showMainApp();
            } else {
                showAuthScreen();
            }
        });
    </script>

    <script>
        // Global state
        let currentUser = null;
        let currentCode = '';
        let selectedTechStack = ['html', 'css', 'js'];

        // Auth Functions
        function switchAuthTab(tab) {
            const tabs = document.querySelectorAll('.auth-tab');
            const forms = document.querySelectorAll('.auth-form');
            
            tabs.forEach(t => t.classList.remove('active'));
            forms.forEach(f => f.classList.remove('active'));
            
            if (tab === 'login') {
                tabs[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                tabs[1].classList.add('active');
                document.getElementById('signupForm').classList.add('active');
            }
        }

        async function loginWithEmail() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorEl = document.getElementById('loginError');
            const successEl = document.getElementById('loginSuccess');

            errorEl.classList.remove('show');
            successEl.classList.remove('show');

            if (!email || !password) {
                errorEl.textContent = 'Please fill in all fields';
                errorEl.classList.add('show');
                return;
            }

            try {
                showLoading(true);
                await window.signInWithEmailAndPassword(window.firebaseAuth, email, password);
                successEl.textContent = 'Login successful!';
                successEl.classList.add('show');
                setTimeout(() => showMainApp(), 1000);
            } catch (error) {
                errorEl.textContent = getErrorMessage(error.code);
                errorEl.classList.add('show');
            } finally {
                showLoading(false);
            }
        }

        async function signupWithEmail() {
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            const errorEl = document.getElementById('signupError');
            const successEl = document.getElementById('signupSuccess');

            errorEl.classList.remove('show');
            successEl.classList.remove('show');

            if (!email || !password || !confirmPassword) {
                errorEl.textContent = 'Please fill in all fields';
                errorEl.classList.add('show');
                return;
            }

            if (password !== confirmPassword) {
                errorEl.textContent = 'Passwords do not match';
                errorEl.classList.add('show');
                return;
            }

            if (password.length < 6) {
                errorEl.textContent = 'Password must be at least 6 characters';
                errorEl.classList.add('show');
                return;
            }

            try {
                showLoading(true);
                await window.createUserWithEmailAndPassword(window.firebaseAuth, email, password);
                successEl.textContent = 'Account created successfully!';
                successEl.classList.add('show');
                setTimeout(() => showMainApp(), 1000);
            } catch (error) {
                errorEl.textContent = getErrorMessage(error.code);
                errorEl.classList.add('show');
            } finally {
                showLoading(false);
            }
        }

        async function loginWithGoogle() {
            try {
                showLoading(true);
                await window.signInWithPopup(window.firebaseAuth, window.googleProvider);
                showToast('‚úÖ Logged in with Google!');
                showMainApp();
            } catch (error) {
                showToast('‚ùå ' + getErrorMessage(error.code));
            } finally {
                showLoading(false);
            }
        }

        function showPhoneAuth() {
            document.getElementById('phoneAuthModal').classList.add('show');
        }

        function closePhoneAuth() {
            document.getElementById('phoneAuthModal').classList.remove('show');
        }

        async function sendPhoneVerification() {
            const countryCode = document.getElementById('countryCode').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const fullPhone = countryCode + phoneNumber;
            const errorEl = document.getElementById('phoneError');
            const successEl = document.getElementById('phoneSuccess');

            errorEl.classList.remove('show');
            successEl.classList.remove('show');

            if (!phoneNumber) {
                errorEl.textContent = 'Please enter a phone number';
                errorEl.classList.add('show');
                return;
            }

            try {
                showLoading(true);
                // Initialize reCAPTCHA
                if (!window.recaptchaVerifier) {
                    window.recaptchaVerifier = new window.RecaptchaVerifier(window.firebaseAuth, 'phoneAuthModal', {
                        'size': 'invisible',
                        'callback': (response) => {
                            // reCAPTCHA solved
                        }
                    });
                }

                const confirmationResult = await window.signInWithPhoneNumber(
                    window.firebaseAuth, 
                    fullPhone, 
                    window.recaptchaVerifier
                );
                
                window.confirmationResult = confirmationResult;
                successEl.textContent = 'Verification code sent!';
                successEl.classList.add('show');
                
                // Here you would show a verification code input
                showToast('üì± Verification code sent! (Feature in development)');
                setTimeout(() => closePhoneAuth(), 2000);
            } catch (error) {
                errorEl.textContent = getErrorMessage(error.code);
                errorEl.classList.add('show');
            } finally {
                showLoading(false);
            }
        }

        async function logout() {
            try {
                await window.signOut(window.firebaseAuth);
                showAuthScreen();
                showToast('üëã Logged out successfully');
            } catch (error) {
                showToast('‚ùå Error logging out');
            }
        }

        function getErrorMessage(errorCode) {
            const errorMessages = {
                'auth/email-already-in-use': 'This email is already registered',
                'auth/invalid-email': 'Invalid email address',
                'auth/operation-not-allowed': 'Operation not allowed',
                'auth/weak-password': 'Password is too weak',
                'auth/user-disabled': 'This account has been disabled',
                'auth/user-not-found': 'No account found with this email',
                'auth/wrong-password': 'Incorrect password',
                'auth/invalid-credential': 'Invalid email or password',
                'auth/too-many-requests': 'Too many attempts. Please try again later',
                'auth/network-request-failed': 'Network error. Check your connection'
            };
            return errorMessages[errorCode] || 'An error occurred. Please try again';
        }

        // App Functions
        function showAuthScreen() {
            document.getElementById('authContainer').style.display = 'flex';
            document.getElementById('mainApp').classList.remove('active');
        }

        function showMainApp() {
            document.getElementById('authContainer').style.display = 'none';
            document.getElementById('mainApp').classList.add('active');
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('open');
                overlay.classList.toggle('show');
            }
        }

        function switchEditorTab(tab) {
            const tabs = document.querySelectorAll('.editor-tab');
            const codeEditor = document.getElementById('codeEditor');
            const previewPane = document.getElementById('previewPane');

            tabs.forEach(t => t.classList.remove('active'));
            event.target.closest('.editor-tab').classList.add('active');

            if (tab === 'code') {
                codeEditor.style.display = 'block';
                codeEditor.style.width = '100%';
                previewPane.style.display = 'none';
            } else if (tab === 'preview') {
                codeEditor.style.display = 'none';
                previewPane.style.display = 'block';
                previewPane.style.width = '100%';
                runCode();
            } else if (tab === 'split') {
                codeEditor.style.display = 'block';
                codeEditor.style.width = '50%';
                previewPane.style.display = 'block';
                previewPane.style.width = '50%';
                runCode();
            }
        }

        // Tech stack selection
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('tech-btn')) {
                e.target.classList.toggle('active');
                const tech = e.target.dataset.tech;
                const index = selectedTechStack.indexOf(tech);
                
                if (index > -1) {
                    selectedTechStack.splice(index, 1);
                } else {
                    selectedTechStack.push(tech);
                }
            }
        });

        // AI Code Generation
        async function generateCode() {
            const prompt = document.getElementById('aiPrompt').value;
            
            if (!prompt.trim()) {
                showToast('‚ö†Ô∏è Please enter a description');
                return;
            }

            try {
                showLoading(true);
                showToast('ü§ñ Generating code with AI...');

                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 1000,
                        messages: [{
                            role: 'user',
                            content: `You are an expert mobile-first web developer. Create a complete, production-ready, mobile-responsive application based on this description: "${prompt}". 

Use these technologies: ${selectedTechStack.join(', ')}.

Requirements:
1. Create a SINGLE HTML file with embedded CSS and JavaScript
2. Make it fully responsive for mobile phones (use clamp(), viewport units, media queries)
3. Use modern, clean design with gradients and smooth animations
4. Include proper touch interactions for mobile
5. Add proper meta tags for mobile
6. Use CSS variables for theming
7. Make all text and buttons easily tappable on mobile (min 44px touch targets)
8. Implement swipe gestures where appropriate
9. Use -webkit prefixes for iOS compatibility
10. Test that all features work on small screens (320px+)

Return ONLY the complete HTML code, no explanations. Start with <!DOCTYPE html> and include everything in one file.`
                        }]
                    })
                });

                const data = await response.json();
                const generatedCode = data.content
                    .filter(item => item.type === 'text')
                    .map(item => item.text)
                    .join('\n');

                // Extract code from markdown if present
                let cleanCode = generatedCode.replace(/```html\n?/g, '').replace(/```\n?/g, '').trim();
                
                document.getElementById('codeEditor').textContent = cleanCode;
                currentCode = cleanCode;
                
                showToast('‚úÖ Code generated successfully!');
                
                // Auto-switch to split view
                document.querySelectorAll('.editor-tab')[2].click();
            } catch (error) {
                console.error('Generation error:', error);
                showToast('‚ùå Error generating code. Please try again.');
            } finally {
                showLoading(false);
            }
        }

        // Template Loading
        const templates = {
            todo: `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Todo App</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: clamp(15px, 4vw, 20px);
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: clamp(15px, 4vw, 20px);
            padding: clamp(20px, 5vw, 30px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 {
            font-size: clamp(24px, 6vw, 32px);
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        input {
            flex: 1;
            padding: clamp(12px, 3vw, 15px);
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: clamp(14px, 3vw, 16px);
        }
        button {
            padding: clamp(12px, 3vw, 15px) clamp(20px, 4vw, 25px);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            font-size: clamp(14px, 3vw, 16px);
        }
        .todo-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }
        .todo-text {
            flex: 1;
            margin-left: 10px;
        }
        .delete-btn {
            background: #f56565;
            padding: 8px 15px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚úÖ My Tasks</h1>
        <div class="input-group">
            <input type="text" id="todoInput" placeholder="Add a new task...">
            <button onclick="addTodo()">Add</button>
        </div>
        <div id="todoList"></div>
    </div>
    <script>
        let todos = JSON.parse(localStorage.getItem('todos')) || [];
        
        function renderTodos() {
            const list = document.getElementById('todoList');
            list.innerHTML = todos.map((todo, index) => \`
                <div class="todo-item \${todo.completed ? 'completed' : ''}">
                    <input type="checkbox" \${todo.completed ? 'checked' : ''} 
                           onchange="toggleTodo(\${index})">
                    <div class="todo-text">\${todo.text}</div>
                    <button class="delete-btn" onclick="deleteTodo(\${index})">Delete</button>
                </div>
            \`).join('');
        }
        
        function addTodo() {
            const input = document.getElementById('todoInput');
            if (input.value.trim()) {
                todos.push({ text: input.value, completed: false });
                input.value = '';
                saveTodos();
                renderTodos();
            }
        }
        
        function toggleTodo(index) {
            todos[index].completed = !todos[index].completed;
            saveTodos();
            renderTodos();
        }
        
        function deleteTodo(index) {
            todos.splice(index, 1);
            saveTodos();
            renderTodos();
        }
        
        function saveTodos() {
            localStorage.setItem('todos', JSON.stringify(todos));
        }
        
        document.getElementById('todoInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addTodo();
        });
        
        renderTodos();
    </script>
</body>
</html>`,
            calculator: `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .calculator {
            background: white;
            border-radius: 20px;
            padding: 20px;
            width: 100%;
            max-width: 350px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .display {
            background: #1a202c;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: right;
            font-size: clamp(24px, 8vw, 36px);
            margin-bottom: 15px;
            min-height: 70px;
            word-wrap: break-word;
        }
        .buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        button {
            padding: clamp(15px, 4vw, 20px);
            font-size: clamp(16px, 4vw, 20px);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }
        button:active {
            transform: scale(0.95);
        }
        .num-btn {
            background: #f7fafc;
            color: #1a202c;
        }
        .op-btn {
            background: #667eea;
            color: white;
        }
        .eq-btn {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            grid-column: span 2;
        }
        .clear-btn {
            background: #f56565;
            color: white;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="display" id="display">0</div>
        <div class="buttons">
            <button class="clear-btn" onclick="clearDisplay()">AC</button>
            <button class="op-btn" onclick="appendOperator('/')">/</button>
            <button class="op-btn" onclick="appendOperator('*')">√ó</button>
            <button class="num-btn" onclick="appendNumber('7')">7</button>
            <button class="num-btn" onclick="appendNumber('8')">8</button>
            <button class="num-btn" onclick="appendNumber('9')">9</button>
            <button class="op-btn" onclick="appendOperator('-')">-</button>
            <button class="num-btn" onclick="appendNumber('4')">4</button>
            <button class="num-btn" onclick="appendNumber('5')">5</button>
            <button class="num-btn" onclick="appendNumber('6')">6</button>
            <button class="op-btn" onclick="appendOperator('+')">+</button>
            <button class="num-btn" onclick="appendNumber('1')">1</button>
            <button class="num-btn" onclick="appendNumber('2')">2</button>
            <button class="num-btn" onclick="appendNumber('3')">3</button>
            <button class="op-btn" onclick="deleteLast()">‚å´</button>
            <button class="num-btn" onclick="appendNumber('0')">0</button>
            <button class="num-btn" onclick="appendNumber('.')">.</button>
            <button class="eq-btn" onclick="calculate()">=</button>
        </div>
    </div>
    <script>
        let display = document.getElementById('display');
        let currentValue = '0';
        
        function appendNumber(num) {
            if (currentValue === '0') {
                currentValue = num;
            } else {
                currentValue += num;
            }
            updateDisplay();
        }
        
        function appendOperator(op) {
            currentValue += op;
            updateDisplay();
        }
        
        function clearDisplay() {
            currentValue = '0';
            updateDisplay();
        }
        
        function deleteLast() {
            currentValue = currentValue.slice(0, -1) || '0';
            updateDisplay();
        }
        
        function calculate() {
            try {
                currentValue = eval(currentValue.replace('√ó', '*')).toString();
                updateDisplay();
            } catch {
                currentValue = 'Error';
                updateDisplay();
                setTimeout(() => {
                    currentValue = '0';
                    updateDisplay();
                }, 1000);
            }
        }
        
        function updateDisplay() {
            display.textContent = currentValue;
        }
    </script>
</body>
</html>`,
            // Add more templates as needed
        };

        function loadTemplate(templateName) {
            if (templates[templateName]) {
                document.getElementById('codeEditor').textContent = templates[templateName];
                currentCode = templates[templateName];
                showToast(`‚úÖ ${templateName.charAt(0).toUpperCase() + templateName.slice(1)} template loaded!`);
                
                // Auto-switch to split view
                document.querySelectorAll('.editor-tab')[2].click();
            } else {
                showToast('‚ö†Ô∏è Template coming soon!');
            }
        }

        // Code Editor Functions
        function runCode() {
            const code = document.getElementById('codeEditor').textContent;
            const preview = document.getElementById('previewFrame');
            const previewDoc = preview.contentDocument || preview.contentWindow.document;
            
            previewDoc.open();
            previewDoc.write(code);
            previewDoc.close();
        }

        function formatCode() {
            showToast('‚ú® Code formatted!');
            // Basic formatting - could be enhanced with a proper formatter
        }

        function exportCode() {
            const code = document.getElementById('codeEditor').textContent;
            const blob = new Blob([code], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mobile-app.html';
            a.click();
            URL.revokeObjectURL(url);
            showToast('üíæ Code exported!');
        }

        function shareCode() {
            const code = document.getElementById('codeEditor').textContent;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Mobile App Code',
                    text: 'Check out the code I created with Mobile Phone Code Generator!',
                    files: [new File([code], 'app.html', { type: 'text/html' })]
                }).then(() => {
                    showToast('üîó Code shared!');
                }).catch(() => {
                    copyToClipboard(code);
                });
            } else {
                copyToClipboard(code);
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('üìã Code copied to clipboard!');
            });
        }

        function showSettings() {
            showToast('‚öôÔ∏è Settings coming soon!');
        }

        // Utility Functions
        function showLoading(show) {
            document.getElementById('loading').classList.toggle('show', show);
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Auto-save functionality
        let saveTimeout;
        document.getElementById('codeEditor').addEventListener('input', () => {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                currentCode = document.getElementById('codeEditor').textContent;
                // Auto-save to localStorage
                try {
                    localStorage.setItem('lastCode', currentCode);
                } catch (e) {
                    console.error('Failed to save code:', e);
                }
            }, 1000);
        });

        // Load last saved code on startup
        window.addEventListener('load', () => {
            try {
                const savedCode = localStorage.getItem('lastCode');
                if (savedCode) {
                    document.getElementById('codeEditor').textContent = savedCode;
                    currentCode = savedCode;
                }
            } catch (e) {
                console.error('Failed to load saved code:', e);
            }
        });

        // Prevent zoom on double-tap for iOS
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Handle orientation changes
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                window.scrollTo(0, 1);
            }, 100);
        });
    </script>
</body>
                </html>
